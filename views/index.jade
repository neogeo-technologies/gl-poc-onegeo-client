extends layout

block append link

    link(rel='stylesheet', href='stylesheets/index.css')

block append script

    script(src='libs/leaflet/dist/leaflet.js')
    script(src='libs/turf/turf.min.js')

    script.
        var catalog = !{JSON.stringify(catalog)};

block content

    body(ng-controller='onegeoIndexCtrl')
        div(class='container')
            div(class='row')
                div(class='col-xs-12 col-sm-8 col-md-6 col-lg-6 col-centered')
                    span(id='title') Onegeo
                    span(id='sub-title') search
                    form
                        div(class='form-group')
                            div(id='select-service' class='select-group')
                                select(
                                    class='form-control'
                                    ng-options='item as item.label disable when item.disabled for item in catalog track by item.id',
                                    ng-model='serviceSelected')
                        div(class='form-group')
                            div(id='search-box' class='input-group')
                                input(
                                    type='text'
                                    class='form-control'
                                    placeholder='Rechercher'
                                    autofocus
                                    ng-model='textQuery'
                                    ng-enter='lookIn(0)'
                                    /*uib-typeahead='suggest for suggest in getSuggests($viewValue)'*/
                                )
                                div(class='input-group-btn' role='group')
                                    button(
                                        type='button'
                                        class='btn'
                                        ng-click="textQuery=''"
                                        ng-show='textQuery'
                                    )
                                        span(class='glyphicon glyphicon-remove')
                                    button(
                                        type='submit'
                                        class='btn'
                                        ng-click='lookIn(0)'
                                        ng-disabled ='!textQuery'
                                    )
                                        span(class='glyphicon glyphicon-search')

                        div(class='form-group')
                            button(
                                type='button'
                                class='btn btn-default'
                                ng-click='lookIn(1)'
                                ng-disabled ='!textQuery'
                            )
                                | Voir les r&#233;sultats sur la carte

        div(style='margin-top: 128px;')
            div(id='copyright')
                span &#169;&nbsp;2018&nbsp;
                    a(href='http://www.neogeo-online.net' target='_blank') Neogeo&nbsp;Technologies
